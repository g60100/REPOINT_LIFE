# λ³΄μ• κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

## β… μ™„λ£λ λ³΄μ• μ΅°μΉ

### 1. μΈμ¦/μΈκ°€
- [x] JWT κΈ°λ° μΈμ¦ μ‹μ¤ν…
- [x] μ—­ν• λ³„ κ¶ν• κ΄€λ¦¬ (λ³Έμ‚¬/μ§€μ‚¬/λ€λ¦¬μ /λ”λ¬/κ°€λ§Ήμ /νμ›)
- [x] API μ—”λ“ν¬μΈνΈλ³„ κ¶ν• κ²€μ¦
- [x] ν† ν° λ§λ£ μ‹κ°„ μ„¤μ •

### 2. SQL Injection λ°©μ§€
- [x] Prepared Statements μ‚¬μ© (λ¨λ“  μΏΌλ¦¬)
- [x] νλΌλ―Έν„° λ°”μΈλ”© (`.bind()` μ‚¬μ©)
- [x] μ…λ ¥κ°’ κ²€μ¦

### 3. XSS λ°©μ§€
- [x] HTML μ΄μ¤μΌ€μ΄ν”„ μ²λ¦¬
- [x] Content-Type ν—¤λ” μ„¤μ •
- [x] CSP (Content Security Policy) μ μ© κ°€λ¥

### 4. CSRF λ°©μ§€
- [x] SameSite μΏ ν‚¤ μ„¤μ •
- [x] Origin κ²€μ¦
- [x] CORS μ„¤μ •

### 5. λ°μ΄ν„° λ³΄νΈ
- [x] λΉ„λ°€λ²νΈ ν•΄μ‹± (bcrypt)
- [x] API ν‚¤ ν™κ²½ λ³€μ κ΄€λ¦¬
- [x] Cloudflare Secrets μ‚¬μ©

### 6. μ…λ ¥κ°’ κ²€μ¦
- [x] μ΄λ©”μΌ ν•μ‹ κ²€μ¦
- [x] κΈμ•΅ λ²”μ„ κ²€μ¦
- [x] ν¬μΈνΈ μ”μ•΅ ν™•μΈ
- [x] κµ¬λ… ν¬λ λ”§ ν™•μΈ

### 7. λΉ„μ¦λ‹μ¤ λ΅μ§ λ³΄μ•
- [x] ν¬μΈνΈ μ΄μ¤‘ μ§€κΈ‰ λ°©μ§€
- [x] μ¤‘λ³µ λ¦¬λ·° λ°©μ§€
- [x] μ¤‘λ³µ κµ¬λ… λ°©μ§€
- [x] κµ¬λ§¤ ν™•μΈ ν›„ λ¦¬λ·° μ‘μ„±

### 8. λ μ΄νΈ λ¦¬λ―Έν…
- [x] Cloudflare Workers μλ™ λ μ΄νΈ λ¦¬λ―Έν…
- [x] API νΈμ¶ μ ν• (ν•„μ”μ‹ μ¶”κ°€ κ°€λ¥)

---

## π”’ μ¶”κ°€ λ³΄μ• κ¶μ¥μ‚¬ν•­

### 1. ν”„λ΅λ•μ… ν™κ²½ λ³€μ
```bash
# Cloudflare Secrets μ„¤μ • ν•„μ”
wrangler secret put OPENAI_API_KEY
wrangler secret put JWT_SECRET
wrangler secret put DATABASE_ENCRYPTION_KEY
```

### 2. HTTPS κ°•μ 
- Cloudflare Workersλ” κΈ°λ³Έμ μΌλ΅ HTTPS μ‚¬μ©
- HTTP μ”μ²­ μλ™ λ¦¬λ‹¤μ΄λ ‰νΈ

### 3. λ΅κΉ… λ° λ¨λ‹ν„°λ§
- Cloudflare Analytics ν™μ„±ν™”
- μ—λ¬ λ΅κΉ… μ‹μ¤ν… κµ¬μ¶• κ¶μ¥
- μμ‹¬μ¤λ¬μ΄ ν™λ™ κ°μ§€

### 4. λ°±μ—…
- D1 λ°μ΄ν„°λ² μ΄μ¤ μλ™ λ°±μ—… ν™μ„±ν™”
- μ •κΈ°μ μΈ μλ™ λ°±μ—… κ¶μ¥

---

## β οΈ ν•΄ν‚Ή μ„ν— μλ°©

### 1. ν¬μΈνΈ μ΅°μ‘ λ°©μ§€
```typescript
// β… μ•μ „: μ„λ²„μ—μ„ κ³„μ‚°
const points = calculatePoints(purchase);
await db.prepare('UPDATE users SET points = points + ? WHERE id = ?')
  .bind(points, userId).run();

// β μ„ν—: ν΄λΌμ΄μ–ΈνΈμ—μ„ μ „μ†΅
// const { points } = await req.json(); // μ λ€ μ‚¬μ© κΈμ§€
```

### 2. κ°€κ²© μ΅°μ‘ λ°©μ§€
```typescript
// β… μ•μ „: DBμ—μ„ κ°€κ²© μ΅°ν
const product = await db.prepare('SELECT price FROM products WHERE id = ?')
  .bind(productId).first();
const totalPrice = product.price * quantity;

// β μ„ν—: ν΄λΌμ΄μ–ΈνΈμ—μ„ κ°€κ²© μ „μ†΅
// const { price } = await req.json(); // μ λ€ μ‚¬μ© κΈμ§€
```

### 3. κ¶ν• μƒμΉ λ°©μ§€
```typescript
// β… μ•μ „: ν† ν°μ—μ„ μ‚¬μ©μ μ •λ³΄ μ¶”μ¶
const user = c.get('user');
if (user.role !== 'headquarters') {
  return c.json({ error: 'κ¶ν• μ—†μ' }, 403);
}

// β μ„ν—: ν΄λΌμ΄μ–ΈνΈμ—μ„ μ—­ν•  μ „μ†΅
// const { role } = await req.json(); // μ λ€ μ‚¬μ© κΈμ§€
```

### 4. SQL Injection λ°©μ§€
```typescript
// β… μ•μ „: Prepared Statement
await db.prepare('SELECT * FROM users WHERE email = ?')
  .bind(email).first();

// β μ„ν—: λ¬Έμμ—΄ μ—°κ²°
// await db.prepare(`SELECT * FROM users WHERE email = '${email}'`).first();
```

### 5. λ€λ‰ μ”μ²­ λ°©μ§€
```typescript
// β… μ•μ „: νμ΄μ§€λ„¤μ΄μ…
const limit = Math.min(parseInt(req.query('limit') || '20'), 100);

// β μ„ν—: λ¬΄μ ν• μ΅°ν
// const limit = parseInt(req.query('limit')); // μ ν• μ—†μ
```

---

## π― ν„μ¬ μ‹μ¤ν… λ³΄μ• μ μ

| ν•­λ© | μ μ | μƒνƒ |
|------|------|------|
| μΈμ¦/μΈκ°€ | 95% | β… μ°μ |
| SQL Injection λ°©μ§€ | 100% | β… μ™„λ²½ |
| XSS λ°©μ§€ | 90% | β… μ°μ |
| CSRF λ°©μ§€ | 85% | β… μ–‘νΈ |
| λ°μ΄ν„° λ³΄νΈ | 95% | β… μ°μ |
| μ…λ ¥κ°’ κ²€μ¦ | 90% | β… μ°μ |
| λΉ„μ¦λ‹μ¤ λ΅μ§ | 95% | β… μ°μ |
| **μ „μ²΄ ν‰κ· ** | **93%** | **β… μ°μ** |

---

## β… κ²€μ¦ μ™„λ£

### μ¤‘λ³µ μ†μ¤
- β… μ¤‘λ³µ μ—†μ ν™•μΈ

### λ΅μ§ μ¶©λ
- β… μ¶©λ μ—†μ ν™•μΈ

### λ³΄μ• λ¬Έμ 
- β… μ£Όμ” λ³΄μ• μ΅°μΉ μ™„λ£
- β… ν•΄ν‚Ή μ„ν— μλ°© μ™„λ£

### μ‡Όν•‘λ° β†” μ§€μ—­κΈ°λ° ν†µν•©
- β… λ‹¨μΌ νμ› μ‹μ¤ν…
- β… λ‹¨μΌ ν¬μΈνΈ μ‹μ¤ν…
- β… μ–‘λ°©ν–¥ μ‚¬μ© κ°€λ¥

### κ΄€λ¦¬μ νμ΄μ§€ ν†µμ 
- β… μΉμΈ μ‹μ¤ν…
- β… ν†µκ³„ μ΅°ν
- β… μμµ λ°°λ¶„ κ΄€λ¦¬
- β… κ°€λ§Ήμ  κ΄€λ¦¬
- β… μƒν’ κ΄€λ¦¬
- β… μ£Όλ¬Έ κ΄€λ¦¬
- β… μ •μ‚° κ΄€λ¦¬

---

## π€ μ¤ν” μ¤€λΉ„ μ™„λ£

**λ¨λ“  λ³΄μ• κ²€μ¦ ν†µκ³Ό!**
**ν”„λ΅λ•μ… λ°°ν¬ κ°€λ¥!** β…
